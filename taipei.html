<!DOCTYPE html>
<html>
<body>



<p id="demo"></p>
<p id='demo1'></p>

<script>
	
function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return xmlHttp.responseText;
}
	
var jTxt, j
jTxt = httpGet("https://q569812489.github.io/ChenYi/taipei.json")
j = JSON.parse(jTxt)
	
pullDistrict(j)

	
var txt='', i
function pullDistrict(jsonObj) {
	txt += "<select id='myselect', onchange='pullVillage(this)'>";
	for(i = 0; i < jsonObj.length; i++) {
		console.log(jsonObj[i]['鄉鎮市區名稱']);
		txt += "<option>" + jsonObj[i]["鄉鎮市區名稱"];
	}
	txt += "</select>"
	document.getElementById('demo').innerHTML = txt;
}
	
var txt1='', i1, i2
function pullVillage(districtName) {
		for (i1 = 0; i1 < j.length; i1++) {
			if(j[i1]['鄉鎮市區名稱'] == districtName.value) {
			   txt1 += "<select id='myselect1', onchange='table(this)'>"
			   for (i2 = 0; i2 < j[i1]['里'].length; i2++) {
				txt1 += "<option>" + j[i1]['里'][i2]["村里名稱"];					 
				}
			   txt1 += "</select>"
			   document.getElementById('demo1').innerHTML = txt1;
			   
			   }
	}


}
	

	





</script>


<meta charset="UTF-8"></meta>
</body>
</html>

</script>


</body>
</html>
