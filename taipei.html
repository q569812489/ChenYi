<!DOCTYPE html>
<html>
<body>



<p id="demo"></p>
<p id='demo1'></p>

<script>
	
var requestURL = "https://q569812489.github.io/ChenYi/taipei.json";
var request = new XMLHttpRequest();
request.open('GET', requestURL);
request.responseType = 'text';
request.send();

request.onload = function taipei() {
	var taipeitxt = request.response;
	var taipei = JSON.parse(taipeitxt);
	return taipei;
	pullDistrict(taipei);;
}	

	
var txt='', i
function pullDistrict(jsonObj) {
	txt += "<select id='myselect', onchange='pullVillage(this)'>";
	for(i = 0; i < jsonObj.length; i++) {
		txt += "<option>" + jsonObj[i]["鄉鎮市區名稱"];
	}
	txt += "</select>"
	document.getElementById('demo').innerHTML = txt;
}
	
var txt1='', i1, i2
function pullVillage(districtName) {
		for (i1 = 0; i1 < taipei().length; i1++) {
			if(taipei()[i1]['鄉鎮市區名稱'] == districtName.value) {
			   txt1 += "<select id='myselect1', onchange='table(this)'>"
			   for (i2 = 0; taipei()[i1]['里'].length; i2++) {
				txt1 += "<option>" + taipei()[i1]['里'][i2]['村里名稱'];					 
				}
			   txt1 += "</select>"
			   document.getElementById('demo1').innerHTML = txt1;
			   
			   }
	}


}




</script>


<meta charset="UTF-8"></meta>
</body>
</html>

</script>


</body>
</html>
